<!-- base -->
<!doctype html>
<html lang="zh-cmn-Hans">
<head>
<meta charset="utf-8">
<meta name="renderer" content="webkit|ie-stand|ie-comp">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<title>sql代码格式化与压缩 -Yang Fei’Tool</title>
<meta name="author" content="Anuny - http://yangfei.name" />
<meta name="keywords" content="feim" />
<meta name="description" content="feim" />
<meta name="robots" content="index,follow" />
<link rel="icon" href="static/images/favicon.ico">
<link href="static/css/pxui.css" rel="stylesheet" type="text/css">
<link href="static/css/style.css" rel="stylesheet" type="text/css">
</head>
<!-- /base -->
<body>
<!-- header -->
<div class="header bg-gray b-b-gray">
  <div class="container">
    <div class="nav">
      <div class="nav-header"><a class="nav-brand" href="http://tool.yangfei.name">Yang Fei’Tool</a></div>
      <ul class="nav-group nav-group-right">
        <li><a href="http://yangfei.name">Home</a> </li>
      </ul>
    </div>
  </div>
</div>
<!-- /header --> 
<!-- container -->
<div class="container">
  <div class="columns">
    
    <div class="column column-9 column-m-12 content" >
      <form>
        <dl class="form-group">
          <dt>
            <label>sql代码格式化与压缩</label>
          </dt>
          <dt>
            <textarea class="form-control" placeholder="请输入sql代码" style="height:360px;" id="textarea" spellcheck="false">
SELECT emp.deptno,
		 emp.ename,
		 emp.sal,
		 t_avgsal.avgsal
FROM emp, 
	(SELECT emp.deptno,
		 avg(emp.sal) avgsal
	FROM emp
	GROUP BY  emp.deptno) t_avgsal
WHERE emp.deptno=t_avgsal.deptno
		AND emp.sal>t_avgsal.avgsal
ORDER BY  emp.deptno; 
	</textarea>
          </dt>
        </dl>
      </form>
      <div class="btn-group">
        <button id="format" class="btn" type="button">格式化</button>
        <button id="mini" class="btn" type="button">压缩</button>
        <button id="empty" class="btn btn-danger" type="button">清空</button>
        <button id="copy" class="btn" type="button">复制</button>
      </div>
    </div>
    <div class="column column-3 column-m-12 left-menu">
      <div class="menu">
        <h3 class="menu-heading">代码格式化与压缩<span class="menu-subtitle">- Format</span></h3>
        <a class="menu-item " href="js.html">JS<span class="menu-subtitle">Justin Sophia</span></a> <a class="menu-item " href="css.html">CSS<span class="menu-subtitle">Cascading Style Sheets</span></a> <a class="menu-item " href="xml.html">XML<span class="menu-subtitle">Extensible Markup Language</span></a> <a class="menu-item " href="json.html">JSON<span class="menu-subtitle">JavaScript Object Notation</span></a> <a class="menu-item  current" href="sql.html">SQL<span class="menu-subtitle">Structured Query Language</span></a> </div>
      <div class="menu">
        <h3 class="menu-heading">其他<span class="menu-subtitle">- format</span></h3>
        <a class="menu-item " href="calculator.html">计算器<span class="menu-subtitle">Simple Calculator</span></a> <a class="menu-item " href="passworder.html">密码生成器<span class="menu-subtitle">Password Generator</span></a> </div>
    </div>
  </div>
</div>
<!-- /container --> 
<!-- footer -->
<div class="container m-t-5 p-5 text-center">© Anuny - yangfei.name</div>
<!-- /footer --> 
<script src="static/js/respond.min.js" type="text/javascript" ></script> 
<script src="static/js/lib.js" type="text/javascript" ></script> 
<script src="static/js/code-sql.js" type="text/javascript" ></script> 
<script>
var $ = require('extend::dom');
var copy = require('extend::copy');
var formater = require('code::sql');
var textarea = $('#textarea');

$('#format').on('click',function(){
	var source = textarea.val();
	var outer = formater(source).format({tab:'\t'});
	textarea.val(outer);
})
$('#mini').on('click',function(){
	var source = textarea.val();
	var outer = formater(source).mini({comment:true});
	textarea.val(outer);
})

$('#empty').on('click',function(){
	textarea.val(' ');
})

$('#copy').on('click',function(){
	copy(textarea);
})

</script>
</body>
</html>